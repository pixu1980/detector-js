import{FlagsClass as s}from"@detector-js/core";import{Feature as t,AudioFeature as a,VideoFeature as e}from"@detector-js/feature";import{Device as c,CPU as l,GPU as i,Platform as h}from"@detector-js/hardware";import{Engine as o,Browser as g,OS as F}from"@detector-js/software";class r extends s{#s;#t;#a;constructor(s=null,t=!0,a=!1,e="djs"){super(s),this.#s=t,this.#t=a?[]:null,this.#a=e+(e?"--":""),this.checkFeature(),this.checkEngine(),this.checkBrowser(),this.checkOS(),this.checkCPU(),this.checkGPU(),this.checkPlatform(),this.setCssFlags()}checkFeature(){let s=new t(this.ua),c=new a(this.ua),l=new e(this.ua);this.feature=s.toFlags().merge({audio:c.toFlags(),video:l.toFlags()}),this.#t&&(this.#t=this.#t.concat(s.toCssFlags(),c.toCssFlags(),l.toCssFlags()))}checkEngine(){let s=new o(this.ua,this.toFlags());this.#s?this.engine=s.toValues():this.engine=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}checkBrowser(){let s=new g(this.ua,this.toFlags());this.#s?this.browser=s.toValues():this.browser=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}checkOS(){let s=new F(this.ua,this.toFlags());this.#s?this.os=s.toValues():this.os=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}checkDevice(){let s=new c(this.ua,this.toFlags());this.device=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}checkCPU(){let s=new l(this.ua,this.toFlags());this.#s?this.cpu=s.toValues():this.cpu=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}checkGPU(){let s=new i(this.ua,this.toFlags());this.gpu=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}checkPlatform(){let s=new h(this.ua,this.toFlags());this.#s?this.platform=s.toValues():this.platform=s.toFlags(),this.#t&&(this.#t=this.#t.concat(s.toCssFlags()))}setCssFlags(){if(this.#t){let s=this.#t.map(s=>this.#a+s),t=document.documentElement||document.querySelector("html");s.forEach(s=>t.className.replace(s,"")),t.className+=s.join(" ").trim()}}}export{r as Detector};
//# sourceMappingURL=detector.mjs.map
