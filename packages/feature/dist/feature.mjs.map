{"mappings":";;;;;AAAA;;;;ACAA;AASO,MAAM,kDAAqB,CAAA,GAAA,oBAAa,AAAD;IAC5C,CAAC,YAAY,CAAmB;IAahC;;;;;;;GAOC,GACD,YAAY,KAAoB,IAAI,EAAE,QAAQ,CAAC,CAAC,EAAE,iBAAiB,OAAO,CAAE;QAC1E,KAAK,CAAC,IAAI,OAAO;QAEjB,IAAI,CAAC,CAAC,kBAAkB;QAExB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU;QAE9B,IAAI,CAAC,OAAO,GAAG;YACb,KAAK,IAAI,CAAC,MAAM;YAChB,MAAM,IAAI,CAAC,OAAO;YAClB,KAAK,IAAI,CAAC,MAAM;YAChB,MAAM,IAAI,CAAC,OAAO;YAClB,KAAK,IAAI,CAAC,MAAM;YAChB,KAAK,IAAI,CAAC,MAAM;QAClB;IACF;IAEA;;;;GAIC,GACD,CAAC,kBAAkB,GAAG;QACpB,IAAI,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;IACnD;IAEA,MAAM;IACN,KAAK;IACL,KAAK;IACL,4BAA4B;IAC5B,MAAM;IACN,2BAA2B;IAC3B,+BAA+B;IAE/B,+BAA+B;IAC/B,IAAI;IAEJ;;;;;;GAMC,GACD,IAAI,YAAY;QACd,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,WAAW,IAAI,CAAC,IAAI;YACpB,sBAAsB,IAAI,CAAC,IAAI;YAC/B,sBAAsB,IAAI,CAAC,IAAI;YAC/B,IACE,CAAC,CAAC,IAAI,CAAC,CAAC,YAAY,IACpB,iBAAiB,IAAI,CAAC,CAAC,YAAY,IACnC,IAAI,CAAC,CAAC,YAAY,YAAY,oBAC9B,IAAI,CAAC,CAAC,YAAY,YAAY;SACjC,EACD,IAAI;IAER;IAEA;;;;;;GAMC,GACD,aAAa;QACX,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,kBAAkB,IAAI,CAAC,IAAI;YAAE,wBAAwB,IAAI,CAAC,IAAI;SAAC;IACrF;IAEA;;;;;;GAMC,GACD,SAAS;QACP,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YAAC,IAAM,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,eAAe,OAAO,CAAC,QAAQ,QAAQ;SAAG,EAClG,IAAI;IAER;IAEA;;;;;;GAMC,GACD,UAAU;QACR,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IAAM,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,+BAA+B,OAAO,CAAC,QAAQ,QAAQ;SAC/G,EACD,IAAI;IAER;IAEA;;;;;;GAMC,GACD,SAAS;QACP,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YAAC,IAAM,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,8BAA8B,OAAO,CAAC,QAAQ,QAAQ;SAAG,EACjH,IAAI;IAER;IAEA;;;;;;GAMC,GACD,UAAU;QACR,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YAAC,IAAM,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,4BAA4B,OAAO,CAAC,QAAQ,QAAQ;SAAG,EAC/G,IAAI;IAER;IAEA;;;;;;GAMC,GACD,SAAS;QACP,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YAAC,IAAM,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,yBAAyB,OAAO,CAAC,QAAQ,QAAQ;SAAG,EAC5G,IAAI;IAER;IAEA;;;;;;GAMC,GACD,SAAS;QACP,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,IAAI,CAAC,SAAS,IACd,AAAC,CAAA,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,gBAAgB,OAAO,CAAC,QAAQ,OAC9D,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,cAAc,OAAO,CAAC,QAAQ,GAAE,MAAO;SAC3E,EACD,IAAI;IAER;AACF;;;;;;AChMA;AASO,MAAM,kDAAqB,CAAA,GAAA,oBAAa,AAAD;IAC5C,CAAC,YAAY,CAAmB;IAQhC;;;;;;;GAOC,GACD,YAAY,KAAkB,IAAI,EAAE,QAAQ,CAAC,CAAC,EAAE,iBAAiB,OAAO,CAAE;QACxE,KAAK,CAAC,IAAI,OAAO;QAEjB,IAAI,CAAC,mBAAmB;QAExB,IAAI,CAAC,OAAO,GAAG;YACb,KAAK,IAAI,CAAC,MAAM;YAChB,KAAK,IAAI,CAAC,MAAM;YAChB,MAAM,IAAI,CAAC,OAAO;QACpB;IACF;IAEA;;;;GAIC,GACD,sBAAsB;QACpB,IAAI,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;IACnD;IAEA,MAAM;IACN,KAAK;IACL,KAAK;IACL,4BAA4B;IAC5B,MAAM;IACN,2BAA2B;IAC3B,8BAA8B;IAE9B,+BAA+B;IAC/B,IAAI;IAEJ;;;;;;GAMC,GACD,IAAI,YAAY;QACd,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,sBAAsB,IAAI,CAAC,IAAI;YAC/B,sBAAsB,IAAI,CAAC,IAAI;YAC/B,IACE,CAAC,CAAC,IAAI,CAAC,CAAC,YAAY,IACpB,iBAAiB,IAAI,CAAC,CAAC,YAAY,IACnC,IAAI,CAAC,CAAC,YAAY,YAAY,oBAC9B,IAAI,CAAC,CAAC,YAAY,YAAY;SACjC,EACD,IAAI;IAER;IAEA;;;;;;GAMC,GACD,SAAS;QACP,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,IAAI,CAAC,SAAS,IACd,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,8CAA8C,OAAO,CAAC,QAAQ,QAAQ;SACxG,EACD,IAAI;IAER;IAEA;;;;;;GAMC,GACD,SAAS;QACP,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,IAAI,CAAC,SAAS,IACd,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,sCAAsC,OAAO,CAAC,QAAQ,QAAQ;SAChG,EACD,IAAI;IAER;IAEA;;;;;;GAMC,GACD,UAAU;QACR,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,IAAI,CAAC,SAAS,IACd,IAAI,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,oCAAoC,OAAO,CAAC,QAAQ,QAAQ;SAC9F,EACD,IAAI;IAER;AACF;;;AF5HO,MAAM,iDAAgB,CAAA,GAAA,oBAAa,AAAD;IACvC,CAAC,WAAW,CAAW;IACvB,CAAC,MAAM,CAAoB;IAC3B,CAAC,MAAM,CAAoB;IAC3B,CAAC,GAAG,CAAiB;IACrB,CAAC,KAAK,CAAmB;IACzB,CAAC,GAAG,CAAmB;IACvB,CAAC,cAAc,CAAiB;IAwBhC;;;;;;;GAOC,GACD,YAAY,KAAoB,IAAI,EAAE,QAAQ,CAAC,CAAC,EAAE,iBAAiB,SAAS,CAAE;QAC5E,KAAK,CAAC,IAAI,OAAO;QAEjB,IAAI,CAAC,CAAC,kBAAkB;QAExB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,mBAAmB;QAChD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO;QACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc;QACtC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa;QACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa;QACpC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,qBAAqB;QACpD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc;QACtC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa;QACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe;QACxC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe;QACxC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa;QACpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB;QAC1C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,mBAAmB;QAChD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB;QAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY;QAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY;QAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS;IAC9B;IAEA;;;;;;;;GAQC,GACD,CAAC,kBAAkB,CAAC,IAAI,EAAE,WAAW,IAAI,CAAC,CAAC,WAAW,EAAE;QACtD,OAAO,KAAK,WAAW;QAEvB,MAAM,gBAAgB,SAAS,GAAG,CAAC,CAAC,OAAS;YAC3C,OAAO,AAAC,CAAA,SAAS,SAAS,KAAK,MAAM,OAAO,GAAG,AAAD,IAAK;QACrD;QAEA,2DAA2D;QAC3D,sGAAsG;QACtG,IAAI;QAEJ,MAAM,qBAAqB,cAAc,MAAM,CAAC,CAAC,OAAS;YACxD,OAAO,QAAQ,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK;QAChC;QAEA,IAAI,mBAAmB,MAAM,GAAG,GAC9B,OAAO,kBAAkB,CAAC,EAAE;QAG9B,OAAO,IAAI;IACb;IAEA;;;;;;;;GAQC,GACD,sBAAsB,IAAI,EAAE,WAAW,IAAI,CAAC,CAAC,WAAW,EAAE;QACxD,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,MAAM;IAC1C;IAEA;;;;;;;;GAQC,GACD,yBAAyB,IAAI,EAAE,KAAK,EAAE;QACpC,MAAM,eAAe,IAAI,CAAC,CAAC,kBAAkB,CAAC;QAE9C,IAAI,cAAc;YAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI;YAE/C,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,GAAG;YAEhC,MAAM,yBAAyB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,gBAAgB,CAAC;YAEtF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG;YAExC,IAAI,CAAC,CAAC,0BAA0B,OAAO,2BAA2B,UAChE,OAAO;YAGT,OAAO,IAAI;QACb,CAAC;QAED,OAAO,IAAI;IACb;IAEA;;;;;;;;GAQC,GACD,2BAA2B,IAAI,EAAE,KAAK,EAAE;QACtC,MAAM,oBAAoB,IAAI,CAAC,wBAAwB,CAAC,MAAM;QAE9D,OAAO,CAAC,CAAC,qBAAqB,sBAAsB;IACtD;IAEA;;;;GAIC,GACD,CAAC,kBAAkB,GAAG;QACpB,IAAI,CAAC,CAAC,WAAW,GAAG;YAAC;YAAQ;YAAU;YAAO;YAAM;SAAI;QAExD,IAAI,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QAC3C,IAAI,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QAC3C,IAAI,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QACxC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QAC1C,IAAI,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QACxC,IAAI,CAAC,CAAC,cAAc,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc;IACrD;IAEA,MAAM;IACN,KAAK;IACL,KAAK;IACL,uBAAuB;IACvB,MAAM;IACN,2BAA2B;IAC3B,8BAA8B;IAE9B,yBAAyB;IACzB,yBAAyB;IACzB,sBAAsB;IACtB,wBAAwB;IACxB,sBAAsB;IACtB,iCAAiC;IAEjC,8BAA8B;IAE9B,yBAAyB;IACzB,yBAAyB;IACzB,sBAAsB;IACtB,wBAAwB;IACxB,sBAAsB;IACtB,iCAAiC;IACjC,IAAI;IAEJ;;;;;;GAMC,GACD,sBAAsB;QACpB,OAAO,sBAAsB,IAAI,CAAC,IAAI;IACxC;IAEA;;;;;;GAMC,GACD,iBAAiB;QACf,OAAO,WAAW,IAAI,CAAC,CAAC,MAAM;IAChC;IAEA;;;;;;GAMC,GACD,aAAa;QACX,OAAO,aAAa,IAAI,CAAC,SAAS;IACpC;IAEA;;;;;;GAMC,GACD,UAAU;QACR,OAAO,oBAAoB,IAAI,CAAC,IAAI,IAAI,qBAAqB,IAAI,CAAC,CAAC,cAAc;IACnF;IAEA;;;;;;GAMC,GACD,iBAAiB;QACf,OAAO,WAAW,IAAI,CAAC,CAAC,MAAM;IAChC;IAEA;;;;;;GAMC,GACD,UAAU;QACR,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,UAAU,IAAI,CAAC,IAAI;YAAE,gBAAgB,IAAI,CAAC,IAAI;YAAE,cAAc,IAAI,CAAC,IAAI;YAAE,UAAU,IAAI,CAAC,IAAI;SAAC;IACnH;IAEA;;;;;;GAMC,GACD,gBAAgB;QACd,OAAO,uBAAuB,IAAI,CAAC,IAAI;IACzC;IAEA;;;;;;GAMC,GACD,gBAAgB;QACd,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YACjB,uBAAuB,IAAI,CAAC,CAAC,MAAM;YACnC,6BAA6B,IAAI,CAAC,CAAC,MAAM;YACzC,yBAAyB,IAAI,CAAC,CAAC,MAAM;YACrC,0BAA0B,IAAI,CAAC,CAAC,MAAM;SACvC;IACH;IAEA;;;;;;GAMC,GACD,wBAAwB;QACtB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,aAAa,IAAI,CAAC,IAAI,IAAI,0BAA0B,IAAI,CAAC,IAAI,CAAC,OAAO;SAAC,EAAE,IAAI;IACxG;IAEA;;;;;;GAMC,GACD,iBAAiB;QACf,OAAO,iBAAiB,IAAI,CAAC,SAAS;IACxC;IAEA;;;;;;GAMC,GACD,gBAAgB;QACd,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,aAAa,IAAI,CAAC,IAAI,IAAI,eAAe,IAAI,CAAC,IAAI,CAAC,OAAO;SAAC,EAAE,IAAI;IAC7F;IAEA;;;;;;GAMC,GACD,kBAAkB;QAChB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YAAC,IAAI,CAAC,aAAa;YAAE,IAAM,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;oBAAC;iBAAE,EAAE,MAAM,CAAC,CAAC,EAAE,GAAG;SAAE,EAChG,IAAI;IAER;IAEA;;;;;;GAMC,GACD,kBAAkB;QAChB,OACE,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,kBAAkB,IAAI,CAAC,IAAI;SAAC,EAAE,IAAI,KACrD,CAAA,GAAA,cAAM,EAAE,GAAG,CACT;YACE,IAAM;gBACJ,MAAM,OAAO;gBACb,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM;gBACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gBAElC,OAAO,IAAI;YACb;SACD,EACD,IAAI;IAGV;IAEA;;;;;;GAMC,GACD,gBAAgB;QACd,OAAO,gBAAgB,IAAI,CAAC,IAAI;IAClC;IAEA;;;;;;GAMC,GACD,mBAAmB;QACjB,OAAO,mBAAmB,IAAI,CAAC,QAAQ;IACzC;IAEA;;;;;;GAMC,GACD,sBAAsB;QACpB,OAAO,sBAAsB,IAAI,CAAC,QAAQ;IAC5C;IAEA;;;;;;GAMC,GACD,mBAAmB;QACjB,OAAO,mBAAmB,IAAI,CAAC,SAAS;IAC1C;IAEA;;;;;;GAMC,GACD,gBAAgB;QACd,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,eAAe,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,KAAK;SAAY,EAAE,IAAI;IACzG;IAEA;;;;;;GAMC,GACD,eAAe;QACb,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YACjB,kBAAkB,IAAI,CAAC,SAAS;YAChC,wBAAwB,IAAI,CAAC,SAAS;YACtC,qBAAqB,IAAI,CAAC,SAAS;YACnC,oBAAoB,IAAI,CAAC,SAAS;SACnC;IACH;IAEA;;;;;;GAMC,GACD,eAAe;QACb,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YACjB,aAAa,IAAI,CAAC,SAAS;YAC3B,mBAAmB,IAAI,CAAC,SAAS;YACjC,gBAAgB,IAAI,CAAC,SAAS;YAC9B,eAAe,IAAI,CAAC,SAAS;SAC9B;IACH;IAEA;;;;;;GAMC,GACD,YAAY;QACV,OAAO,YAAY,IAAI,CAAC,IAAI;IAC9B;IAEA;;;;;;GAMC,GACD,IAAI,iBAAiB;QACnB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,oBAAoB,IAAI,CAAC,SAAS;YAAE,sBAAsB,IAAI,CAAC,SAAS;SAAC;IAC/F;IAEA;;;;;;GAMC,GACD,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI;IACvC;IAEA;;;;;;GAMC,GACD,IAAI,cAAc;QAChB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YACjB,wBAAwB,IAAI,CAAC,QAAQ;YACrC,8BAA8B,IAAI,CAAC,QAAQ;YAC3C,2BAA2B,IAAI,CAAC,QAAQ;SACzC;IACH;IAEA;;;;;;GAMC,GACD,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK;IACtC;IAEA;;;;;;GAMC,GACD,IAAI,QAAQ;QACV,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,EAAE,aAAa;YACxD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,EAAE;SACvC,EACD,IAAI;IAER;IAEA,uCAAuC;IACvC;;;;;;GAMC,GACD,IAAI,eAAe;QACjB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,EAAE;SAAoB,EAAE,IAAI;IACtF;IAEA,wCAAwC;IACxC;;;;;;GAMC,GACD,IAAI,gBAAgB;QAClB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,EAAE;SAAc,EAAE,IAAI;IAChF;IAEA,qCAAqC;IACrC;;;;;;GAMC,GACD,IAAI,eAAe;QACjB,OAAO,uBAAuB,IAAI,CAAC,IAAI;IACzC;IAEA,0CAA0C;IAC1C;;;;;;GAMC,GACD,IAAI,oBAAoB;QACtB,OAAO,4BAA4B,IAAI,CAAC,IAAI;IAC9C;IAEA,oCAAoC;IACpC;;;;;;GAMC,GACD,IAAI,cAAc;QAChB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,iBAAiB,IAAI,CAAC,QAAQ;YAAE,yBAAyB,IAAI,CAAC,IAAI;SAAC;IACzF;IAEA,qCAAqC;IACrC;;;;;;GAMC,GACD,IAAI,YAAY;QACd,OAAO,eAAe,IAAI,CAAC,QAAQ;IACrC;IAEA,6CAA6C;IAC7C;;;;;;GAMC,GACD,IAAI,cAAc;QAChB,OAAO,iBAAiB,IAAI,CAAC,CAAC,KAAK;IACrC;IAEA,uCAAuC;IACvC;;;;;;GAMC,GACD,IAAI,eAAe;QACjB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,CAAA,AAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,OAAU,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,KAAK,EAAE,AAAD;SAAE,EAAE,IAAI;IAClG;IAEA,kCAAkC;IAClC;;;;;;GAMC,GACD,IAAI,UAAU;QACZ,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,CAAA,AAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,QAAW,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,KAAK,EAAE,AAAD;SAAE,EAAE,IAAI;IACnG;IAEA,8BAA8B;IAC9B;;;;;;GAMC,GACD,IAAI,SAAS;QACX,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,gBAAgB,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC;SAAM,EAAE,IAAI;IAClG;IAEA,2BAA2B;IAC3B;;;;;;GAMC,GACD,IAAI,MAAM;QACR,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,qBAAqB,IAAI,CAAC,QAAQ,IAClC,mBAAmB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,8BAA8B;SAClF,EACD,IAAI;IAER;IAEA,4BAA4B;IAC5B;;;;;;GAMC,GACD,IAAI,OAAO;QACT,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IAAM;gBACJ,MAAM,OAAO,SAAS,aAAa,CAAC;gBAEpC,IAAI,CAAC,CAAE,CAAA,KAAK,UAAU,IAAI,KAAK,UAAU,CAAC,KAAI,GAC5C,6CAA6C;gBAC7C,OAAO,KAAK,SAAS,CAAC,cAAc,OAAO,CAAC,uBAAuB;gBAGrE,OAAO,KAAK;YACd;SACD,EACD,IAAI;IAER;IAEA,6BAA6B;IAC7B;;;;;;GAMC,GACD,IAAI,QAAQ;QACV,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,IAAI,CAAC,MAAM,IACX,2BAA2B,IAAI,CAAC,IAAI,IACnC,CAAA,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAoB;YACnF,IAAM,IAAI,CAAC,MAAM,IAAI,4BAA4B,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC;SACvF,EACD,IAAI;IAER;IAEA,6BAA6B;IAC7B;;;;;;GAMC,GACD,IAAI,QAAQ;QACV,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,mBAAmB,IAAI,CAAC,SAAS;SAAC;IACxD;IAEA,4FAA4F;IAC5F;;;;;;GAMC,GACD,IAAI,QAAQ;QACV,OACE,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAM,kBAAkB,IAAI,CAAC,IAAI;YAAE,IAAM,kBAAkB,IAAI,CAAC,QAAQ,CAAC,eAAe;SAAC,EAAE,IAAI,KAC5G,CAAA,GAAA,cAAM,EAAE,GAAG,CACT;YACE,IAAM,mBAAmB,IAAI,CAAC,IAAI;YAClC,IAAM,IAAI,CAAC,cAAc,IAAI,eAAe,IAAI,CAAC,IAAI;YACrD,IAAM,oBAAoB,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,GAAG;SAC7E,EACD,IAAI;IAGV;IAEA;;;;;;GAMC,GACD,IAAI,aAAa;QACf,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAChB;YACE,IACE,gBAAgB,IAAI,CAAC,IAAI,IACzB,gCAAgC,IAAI,CAAC,IAAI,CAAC,UAAU,IACpD,sCAAsC,IAAI,CAAC,IAAI,CAAC,UAAU;SAC7D,EACD,IAAI;IAER;IAEA;;;;;;GAMC,GACD,IAAI,gBAAgB;QAClB,OAAO,CAAA,GAAA,cAAO,AAAD,EAAE,GAAG,CAAC;YAAC,IAAI,CAAC,IAAI,CAAC,YAAY;SAAC,EAAE,IAAI;IACnD;IAEA,4CAA4C;IAC5C;;;;;;GAMC,GACD,IAAI,SAAS;QACX,OAAO,YAAY,IAAI,CAAC,CAAC,GAAG;IAC9B;IAEA,2CAA2C;IAC3C;;;;;;GAMC,GACD,IAAI,QAAQ;QACV,OAAO,WAAW,IAAI,CAAC,CAAC,GAAG;IAC7B;IAEA,uCAAuC;IACvC;;;;;;GAMC,GACD,IAAI,iBAAiB;QACnB,OAAO,wBAAwB,IAAI,CAAC,IAAI;IAC1C;IAEA,uCAAuC;IACvC;;;;;;GAMC,GACD,IAAI,gBAAgB;QAClB,OAAO,uBAAuB,IAAI,CAAC,IAAI;IACzC;AACF","sources":["packages/feature/lib/feature.ts","packages/feature/lib/audioFeature.ts","packages/feature/lib/videoFeature.ts"],"sourcesContent":["import { Asserts, CssFlagsClass } from '@detector-js/core';\n\n/**\n *\n *\n * @export\n * @class Feature\n * @extends {CssFlagsClass}\n */\nexport class Feature extends CssFlagsClass {\n  #cssPrefixes: string[];\n  #script: HTMLScriptElement;\n  #canvas: HTMLCanvasElement;\n  #div: HTMLDivElement;\n  #input: HTMLInputElement;\n  #img: HTMLImageElement;\n  #xmlHttpRequest: XMLHttpRequest;\n\n  addEventListener: boolean;\n  asyncScript: boolean;\n  battery: boolean;\n  cors: boolean;\n  deferScript: boolean;\n  file: boolean;\n  fileSystem: boolean;\n  fullscreen: boolean;\n  fullscreenKeyboard: boolean;\n  geolocation: boolean;\n  historyAPI: boolean;\n  littleEndian: boolean;\n  localStorage: boolean;\n  matchMedia: boolean;\n  querySelector: boolean;\n  querySelectorAll: boolean;\n  serviceWorker: boolean;\n  typedArray: boolean;\n  userMedia: boolean;\n  vibration: boolean;\n  worker: boolean;\n\n  /**\n   * Creates an instance of Feature.\n   * @param {any} [ua=null]\n   * @param {any} [flags={}]\n   * @param {string} [cssFlagsPrefix='feature']\n   *\n   * @memberOf Feature\n   */\n  constructor(ua: string | null = null, flags = {}, cssFlagsPrefix = 'feature') {\n    super(ua, flags, cssFlagsPrefix);\n\n    this.#createTestElements();\n\n    this.addEventListener = this.getAddEventListener();\n    this.asyncScript = this.getAsyncScript();\n    this.battery = this.getBattery();\n    this.cors = this.getCors();\n    this.deferScript = this.getDeferScript();\n    this.file = this.getFile();\n    this.fileSystem = this.getFileSystem();\n    this.fullscreen = this.getFullscreen();\n    this.fullscreenKeyboard = this.getFullscreenKeyboard();\n    this.geolocation = this.getGeolocation();\n    this.historyAPI = this.getHistoryAPI();\n    this.littleEndian = this.getLittleEndian();\n    this.localStorage = this.getLocalStorage();\n    this.matchMedia = this.getMatchMedia();\n    this.querySelector = this.getQuerySelector();\n    this.querySelectorAll = this.getQuerySelectorAll();\n    this.serviceWorker = this.getServiceWorker();\n    this.typedArray = this.getTypedArray();\n    this.userMedia = this.getUserMedia();\n    this.vibration = this.getVibration();\n    this.worker = this.getWorker();\n  }\n\n  /**\n   *\n   *\n   * @param {any} prop\n   * @param {any} [prefixes=this.#cssPrefixes]\n   * @returns {string}\n   *\n   * @memberOf Feature\n   */\n  #getCssPrefixedProp(prop, prefixes = this.#cssPrefixes) {\n    prop = prop.toCamelCase();\n\n    const prefixedProps = prefixes.map((item) => {\n      return (item === 'spec' ? '' : '-' + item + '-') + prop;\n    });\n\n    // if ('CSS' in this.root && 'supports' in this.root.CSS) {\n    //   return this.root.CSS.supports(prefixedProps.map(item => '(' + item + ': inherit)').join(' or '));\n    // }\n\n    const prefixedPropsFound = prefixedProps.filter((item) => {\n      return item in this.#div.style;\n    });\n\n    if (prefixedPropsFound.length > 0) {\n      return prefixedPropsFound[0];\n    }\n\n    return null;\n  }\n\n  /**\n   *\n   *\n   * @param {any} prop\n   * @param {any} [prefixes=this.#cssPrefixes]\n   * @returns {string}\n   *\n   * @memberOf Feature\n   */\n  _checkCssPrefixedProp(prop, prefixes = this.#cssPrefixes) {\n    return !!this.#getCssPrefixedProp(prop, prefixes);\n  }\n\n  /**\n   *\n   *\n   * @param {any} prop\n   * @param {any} value\n   * @returns {any}\n   *\n   * @memberOf Feature\n   */\n  _getCssPrefixedPropValue(prop, value) {\n    const prefixedProp = this.#getCssPrefixedProp(prop);\n\n    if (prefixedProp) {\n      this.document.body.insertBefore(this.#div, null);\n\n      this.#div.style[prefixedProp] = value;\n\n      const computedStylePropValue = this.root.getComputedStyle(this.#div).getPropertyValue(prefixedProp);\n\n      this.document.body.removeChild(this.#div);\n\n      if (!!computedStylePropValue && typeof computedStylePropValue === 'string') {\n        return computedStylePropValue;\n      }\n\n      return null;\n    }\n\n    return null;\n  }\n\n  /**\n   *\n   *\n   * @param {any} prop\n   * @param {any} value\n   * @returns {any}\n   *\n   * @memberOf Feature\n   */\n  _checkCssPrefixedPropValue(prop, value) {\n    const prefixedPropValue = this._getCssPrefixedPropValue(prop, value);\n\n    return !!prefixedPropValue && prefixedPropValue !== 'none';\n  }\n\n  /**\n   *\n   *\n   * @memberof Feature\n   */\n  #createTestElements() {\n    this.#cssPrefixes = ['spec', 'webkit', 'moz', 'ms', 'o'];\n\n    this.#script = this.document.createElement('script');\n    this.#canvas = this.document.createElement('canvas');\n    this.#div = this.document.createElement('div');\n    this.#input = this.document.createElement('input');\n    this.#img = this.document.createElement('img');\n    this.#xmlHttpRequest = new this.root.XMLHttpRequest();\n  }\n\n  // /**\n  //  *\n  //  *\n  //  * @memberof Feature\n  //  */\n  // _destroyTestElements() {\n  //   this.#cssPrefixes = null;\n\n  //   this._script = null;\n  //   this._canvas = null;\n  //   this._div = null;\n  //   this._input = null;\n  //   this._img = null;\n  //   this._xmlHttpRequest = null;\n\n  //   delete this.#cssPrefixes;\n\n  //   delete this._script;\n  //   delete this._canvas;\n  //   delete this._div;\n  //   delete this._input;\n  //   delete this._img;\n  //   delete this._xmlHttpRequest;\n  // }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getAddEventListener() {\n    return 'addEventListener' in this.root;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getAsyncScript() {\n    return 'async' in this.#script;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getBattery() {\n    return 'battery' in this.navigator;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getCors() {\n    return 'XMLHttpRequest' in this.root && 'withCredentials' in this.#xmlHttpRequest;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getDeferScript() {\n    return 'defer' in this.#script;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getFile() {\n    return Asserts.all(['File' in this.root, 'FileReader' in this.root, 'FileList' in this.root, 'Blob' in this.root]);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getFileSystem() {\n    return 'requestFileSystem' in this.root;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getFullscreen() {\n    return Asserts.one([\n      'requestFullscreen' in this.#canvas,\n      'webkitRequestFullscreen' in this.#canvas,\n      'msRequestFullscreen' in this.#canvas,\n      'mozRequestFullScreen' in this.#canvas\n    ]);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getFullscreenKeyboard() {\n    return Asserts.all([() => 'Element' in this.root && 'ALLOW_KEYBOARD_INPUT' in this.root.Element], true);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getGeolocation() {\n    return 'geolocation' in this.navigator;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getHistoryAPI() {\n    return Asserts.all([() => 'history' in this.root && 'pushState' in this.root.history], true);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getLittleEndian() {\n    return Asserts.all(\n      [this.getTypedArray, () => new this.root.Int8Array(new this.root.Int16Array([1]).buffer)[0] > 0],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getLocalStorage() {\n    return (\n      Asserts.one([() => 'localStorage' in this.root], true) &&\n      Asserts.one(\n        [\n          () => {\n            const test = 'x';\n            this.root.localStorage.setItem(test, test);\n            this.root.localStorage.removeItem(test);\n\n            return true;\n          }\n        ],\n        true\n      )\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getMatchMedia() {\n    return 'matchMedia' in this.root;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getQuerySelector() {\n    return 'querySelector' in this.document;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getQuerySelectorAll() {\n    return 'querySelectorAll' in this.document;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getServiceWorker() {\n    return 'serviceWorker' in this.navigator;\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getTypedArray() {\n    return Asserts.all([() => 'Int8Array' in this.root && typeof this.root.Int8Array !== 'undefined'], true);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getUserMedia() {\n    return Asserts.one([\n      'getUserMedia' in this.navigator,\n      'webkitGetUserMedia' in this.navigator,\n      'mozGetUserMedia' in this.navigator,\n      'msGetUserMedia' in this.navigator\n    ]);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getVibration() {\n    return Asserts.one([\n      'vibrate' in this.navigator,\n      'webkitVibrate' in this.navigator,\n      'mozVibrate' in this.navigator,\n      'msVibrate' in this.navigator\n    ]);\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf Feature\n   */\n  getWorker() {\n    return 'Worker' in this.root;\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get pointerEnabled() {\n    return Asserts.one(['pointerEnabled' in this.navigator, 'msPointerEnabled' in this.navigator]);\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get pixelRatio() {\n    return this.root.devicePixelRatio || 1;\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get pointerLock() {\n    return Asserts.one([\n      'pointerLockElement' in this.document,\n      'webkitPointerLockElement' in this.document,\n      'mozPointerLockElement' in this.document\n    ]);\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get quirksMode() {\n    return this.document.compatMode !== 'CSS1Compat';\n  }\n\n  /**\n   * Test if CSS 3D transforms are supported\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get css3D() {\n    return Asserts.all(\n      [\n        this._checkCssPrefixedPropValue.bind(this, 'transform', 'translate3d(1px,1px,1px)'),\n        this._checkCssPrefixedProp.bind(this, 'perspective')\n      ],\n      true\n    );\n  }\n\n  // Test if CSS transforms are supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get cssTransform() {\n    return Asserts.one([this._checkCssPrefixedProp.bind(this, 'transform-origin')], true);\n  }\n\n  // Test if CSS transitions are supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get cssTransition() {\n    return Asserts.one([this._checkCssPrefixedProp.bind(this, 'transition')], true);\n  }\n\n  // Test if Device Motion is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get deviceMotion() {\n    return 'DeviceMotionEvent' in this.root;\n  }\n\n  // Test if Device Orientation is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get deviceOrientation() {\n    return 'DeviceOrientationEvent' in this.root;\n  }\n\n  // Test if Context Menu is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get contextMenu() {\n    return Asserts.all(['contextMenu' in this.document, 'HTMLMenuItemElement' in this.root]);\n  }\n\n  // Test if classList API is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get classList() {\n    return 'classList' in this.document;\n  }\n\n  // Test if placeholder attribute is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get placeholder() {\n    return 'placeholder' in this.#input;\n  }\n\n  // Test if viewport units are supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get viewportUnit() {\n    return Asserts.all([() => (this.#img.style.width = '1vw') && this.#img.style.width !== ''], true);\n  }\n\n  // Test if REM units are supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get remUnit() {\n    return Asserts.all([() => (this.#img.style.width = '1rem') && this.#img.style.width !== ''], true);\n  }\n\n  // Test if Canvas is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get canvas() {\n    return Asserts.all([() => 'getContext' in this.#canvas && !!this.#canvas.getContext('2d')], true);\n  }\n\n  // Test if SVG is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get svg() {\n    return Asserts.all(\n      [\n        () =>\n          'createElementNS' in this.document &&\n          'createSVGRect' in this.document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n      ],\n      true\n    );\n  }\n\n  // Test if WebP is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get webp() {\n    return Asserts.all(\n      [\n        () => {\n          const elem = document.createElement('canvas');\n\n          if (!!(elem.getContext && elem.getContext('2d'))) {\n            // was able or not to get WebP representation\n            return elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n          }\n\n          return false;\n        }\n      ],\n      true\n    );\n  }\n\n  // Test if WebGL is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get webGL() {\n    return Asserts.one(\n      [\n        () =>\n          this.canvas &&\n          'WebGLRenderingContext' in this.root &&\n          (this.#canvas.getContext('webgl') || this.#canvas.getContext('experimental-webgl')),\n        () => this.canvas && 'WebGL2RenderingContext' in this.root && this.#canvas.getContext('webgl2')\n      ],\n      true\n    );\n  }\n\n  // Test if WebVR is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get webVR() {\n    return Asserts.all(['getVRDisplays' in this.navigator]);\n  }\n\n  // Tests if touch events are supported, but doesn't necessarily reflect a touchscreen device\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get touch() {\n    return (\n      Asserts.one([() => 'ontouchstart' in this.root, () => 'ontouchstart' in this.document.documentElement], true) &&\n      Asserts.one(\n        [\n          () => 'DocumentTouch' in this.root,\n          () => this.pointerEnabled && 'MSGesture' in this.root,\n          () => 'maxTouchPoints' in this.navigator && this.navigator.maxTouchPoints > 1\n        ],\n        true\n      )\n    );\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get forceTouch() {\n    return Asserts.all(\n      [\n        () =>\n          'MouseEvent' in this.root &&\n          'WEBKIT_FORCE_AT_MOUSE_DOWN' in this.root.MouseEvent &&\n          'WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN' in this.root.MouseEvent\n      ],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get pointerEvents() {\n    return Asserts.all([this.root.PointerEvent], true);\n  }\n\n  // Test if img srcset attribute is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get srcset() {\n    return 'srcset' in this.#img;\n  }\n\n  // Test if img sizes attribute is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get sizes() {\n    return 'sizes' in this.#img;\n  }\n\n  // Test if Picture element is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get pictureElement() {\n    return 'HTMLPictureElement' in this.root;\n  }\n\n  // Test if Picture element is supported\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf Feature\n   */\n  get dialogElement() {\n    return 'HTMLDialogElement' in this.root;\n  }\n}\n\nif (process.env.NODE_ENV === 'development') {\n  const packageJSON = require('../package.json');\n\n  console.log(`${packageJSON.description} v${packageJSON.version} initialized`);\n}\n\nexport * from './audioFeature';\nexport * from './videoFeature';\n","import { Asserts, CssFlagsClass } from '@detector-js/core';\n\n/**\n *\n *\n * @export\n * @class AudioFeature\n * @extends {CssFlagsClass}\n */\nexport class AudioFeature extends CssFlagsClass {\n  #audioElement: HTMLAudioElement;\n\n  context: boolean;\n\n  formats: {\n    mp3: boolean;\n    webm: boolean;\n    ogg: boolean;\n    opus: boolean;\n    wav: boolean;\n    m4a: boolean;\n  };\n\n  /**\n   * Creates an instance of AudioFeature.\n   * @param {any} [ua=null]\n   * @param {any} [flags={}]\n   * @param {string} [cssFlagsPrefix='audio']\n   *\n   * @memberOf AudioFeature\n   */\n  constructor(ua: string | null = null, flags = {}, cssFlagsPrefix = 'audio') {\n    super(ua, flags, cssFlagsPrefix);\n\n    this.#createTestElements();\n\n    this.context = this.getContext();\n\n    this.formats = {\n      mp3: this.getMp3(),\n      webm: this.getWebm(),\n      ogg: this.getOgg(),\n      opus: this.getOpus(),\n      wav: this.getWav(),\n      m4a: this.getM4a()\n    };\n  }\n\n  /**\n   *\n   *\n   * @memberof AudioFeature\n   */\n  #createTestElements() {\n    this.#audioElement = this.document.createElement('audio');\n  }\n\n  // /**\n  //  *\n  //  *\n  //  * @memberof AudioFeature\n  //  */\n  // _destroyTestElements() {\n  //   this.#audioElement = null;\n\n  //   delete this.#audioElement;\n  // }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf AudioFeature\n   */\n  get supported() {\n    return Asserts.all(\n      [\n        'Audio' in this.root,\n        'HTMLAudioElement' in this.root,\n        'HTMLMediaElement' in this.root,\n        () =>\n          !!this.#audioElement &&\n          'canPlayType' in this.#audioElement &&\n          this.#audioElement instanceof HTMLAudioElement &&\n          this.#audioElement instanceof HTMLMediaElement\n      ],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getContext() {\n    return Asserts.one(['AudioContext' in this.root, 'webkitAudioContext' in this.root]);\n  }\n\n  /**\n   *__\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getMp3() {\n    return Asserts.all(\n      [() => this.supported && this.#audioElement.canPlayType('audio/mpeg;').replace(/^no$/, '') !== ''],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getWebm() {\n    return Asserts.all(\n      [\n        () => this.supported && this.#audioElement.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '') !== ''\n      ],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getOgg() {\n    return Asserts.all(\n      [() => this.supported && this.#audioElement.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, '') !== ''],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getOpus() {\n    return Asserts.all(\n      [() => this.supported && this.#audioElement.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, '') !== ''],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getWav() {\n    return Asserts.all(\n      [() => this.supported && this.#audioElement.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, '') !== ''],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf AudioFeature\n   */\n  getM4a() {\n    return Asserts.all(\n      [\n        () =>\n          this.supported &&\n          (this.#audioElement.canPlayType('audio/x-m4a;').replace(/^no$/, '') ||\n            this.#audioElement.canPlayType('audio/aac;').replace(/^no$/, '')) !== ''\n      ],\n      true\n    );\n  }\n}\n","import { Asserts, CssFlagsClass } from '@detector-js/core';\n\n/**\n *\n *\n * @export\n * @class VideoFeature\n * @extends {CssFlagsClass}\n */\nexport class VideoFeature extends CssFlagsClass {\n  #videoElement: HTMLVideoElement;\n\n  formats: {\n    mp4: boolean;\n    ogv: boolean;\n    webm: boolean;\n  };\n\n  /**\n   * Creates an instance of VideoFeature.\n   * @param {any} [ua=null]\n   * @param {any} [flags={}]\n   * @param {string} [cssFlagsPrefix='video']\n   *\n   * @memberOf VideoFeature\n   */\n  constructor(ua: string|null = null, flags = {}, cssFlagsPrefix = 'video') {\n    super(ua, flags, cssFlagsPrefix);\n\n    this._createTestElements();\n\n    this.formats = {\n      mp4: this.getMp4(),\n      ogv: this.getOgv(),\n      webm: this.getWebm()\n    };\n  }\n\n  /**\n   *\n   *\n   * @memberof VideoFeature\n   */\n  _createTestElements() {\n    this.#videoElement = this.document.createElement('video');\n  }\n\n  // /**\n  //  *\n  //  *\n  //  * @memberof VideoFeature\n  //  */\n  // _destroyTestElements() {\n  //   this._viewElement = null;\n\n  //   delete this._videoElement;\n  // }\n\n  /**\n   *\n   *\n   * @readonly\n   *\n   * @memberOf VideoFeature\n   */\n  get supported() {\n    return Asserts.all(\n      [\n        'HTMLVideoElement' in this.root,\n        'HTMLMediaElement' in this.root,\n        () =>\n          !!this.#videoElement &&\n          'canPlayType' in this.#videoElement &&\n          this.#videoElement instanceof HTMLVideoElement &&\n          this.#videoElement instanceof HTMLMediaElement\n      ],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf VideoFeature\n   */\n  getMp4() {\n    return Asserts.all(\n      [\n        () =>\n          this.supported &&\n          this.#videoElement.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"').replace(/^no$/, '') !== ''\n      ],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf VideoFeature\n   */\n  getOgv() {\n    return Asserts.all(\n      [\n        () =>\n          this.supported &&\n          this.#videoElement.canPlayType('video/ogg; codecs=\"theora, vorbis\"').replace(/^no$/, '') !== ''\n      ],\n      true\n    );\n  }\n\n  /**\n   *\n   *\n   * @returns boolean\n   *\n   * @memberOf VideoFeature\n   */\n  getWebm() {\n    return Asserts.all(\n      [\n        () =>\n          this.supported &&\n          this.#videoElement.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(/^no$/, '') !== ''\n      ],\n      true\n    );\n  }\n}\n"],"names":[],"version":3,"file":"feature.mjs.map"}